package spatial.tests.apps

import spatial.dsl._
@spatial class DRAMBits extends SpatialTest { // Test Args: 

  val size = 512
  		    
  def main(args: Array[String]): Void = {

    val bits_DRAM = DRAM[Bit](size)

    val stored_bits_DRAM = DRAM[Bit](size)
    setMem(bits_DRAM, List.tabulate(size) { i => i.to[Int].bit(0).to[Bit] })
 
    Accel {

       val bits_SRAM = SRAM[Bit](size)
       bits_SRAM load bits_DRAM(0::size)
       stored_bits_DRAM(0::size) store bits_SRAM
    }

    val all_bits = getMem(stored_bits_DRAM)
    printArray(all_bits)  
  }
}  
